{"version":3,"sources":["components/TodoList/TodoList.tsx","api.ts","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["TodoList","todos","setSelectedUserId","selectedUserId","useState","query","setQuery","selectedTodos","setSelectedTodos","filteredVisibleTodos","filter","todo","completed","getVisibleTodos","title","toLowerCase","includes","className","type","value","onChange","event","target","map","defaultChecked","disabled","userId","classNames","onClick","id","API_URL","getTodos","a","fetch","response","json","getUser","CurrentUser","clearUser","currentUser","setUser","getUsersDetails","useCallback","usersDetails","useEffect","name","email","phone","App","setTodos","getAllPosts","gotTodos","ReactDOM","render","document","getElementById"],"mappings":"iVAaaA,EAA4B,SAAC,GAInC,IAHLC,EAGI,EAHJA,MACAC,EAEI,EAFJA,kBACAC,EACI,EADJA,eAEA,EAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAA0CF,mBAAS,IAAnD,mBAAOG,EAAP,KAAsBC,EAAtB,KAeMC,EAbkB,WACtB,OAAQF,GACN,IAAK,SACH,OAAON,EAAMS,QAAO,SAAAC,GAAI,OAAKA,EAAKC,aACpC,IAAK,YACH,OAAOX,EAAMS,QAAO,SAAAC,GAAI,OAAIA,EAAKC,aACnC,QACE,OAAOX,GAIQY,GAEqBH,QAAO,SAAAC,GAAI,OACnDA,EAAKG,MAAMC,cAAcC,SAASX,EAAMU,kBAW1C,OACE,sBAAKE,UAAU,WAAf,UACE,wCAEA,sBAAKA,UAAU,2BAAf,UACE,gCACE,uBACEC,KAAK,OACLC,MAAOd,EACP,UAAQ,gBACRe,SAlBY,SAACC,GACrBf,EAASe,EAAMC,OAAOH,YAoBlB,yBACEF,UAAU,mBACVE,MAAOZ,EACPa,SApBiB,SAACC,GACxBb,EAAiBa,EAAMC,OAAOH,QAgB1B,UAKE,wBAAQA,MAAM,MAAd,iBACA,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,YAAd,0BAEF,oBACEF,UAAU,iBACV,UAAQ,cAFV,SAKIR,EAAqBc,KAAI,SAAAZ,GAAI,OAC3B,mCACE,qBACEM,UAAS,oFAEWN,EAAKC,UAFhB,wBADX,UAOE,kCACE,uBACEM,KAAK,WACLM,eAAgBb,EAAKC,UACrBa,UAAQ,IAEV,4BAAId,EAAKG,WAEVH,EAAKe,QACJ,wBACER,KAAK,SACL,UAAQ,aACRD,UAAWU,IACT,SACA,0BACA,CACE,kCACExB,IAAmBQ,EAAKe,SAG9BE,QAAS,kBACP1B,EAAkBS,EAAKe,SAZ3B,wBAeWvB,OA1BRQ,EAAKkB,kBC9EtBC,EAAU,oCAEHC,EAAQ,uCAAG,4BAAAC,EAAA,sEACCC,MAAM,GAAD,OAAIH,EAAJ,WADN,cAChBI,EADgB,yBAGfA,EAASC,QAHM,2CAAH,qDAMRC,EAAO,uCAAG,WAAOP,GAAP,eAAAG,EAAA,sEACEC,MAAM,GAAD,OAAIH,EAAJ,kBAAqBD,IAD5B,cACfK,EADe,yBAGdA,EAASC,QAHK,2CAAH,sDCAPE,G,MAA+B,SAAC,GAA2B,IAAzBX,EAAwB,EAAxBA,OAAQY,EAAgB,EAAhBA,UACrD,EAA+BlC,mBAAsB,MAArD,mBAAOmC,EAAP,KAAoBC,EAApB,KAEMC,EAAkBC,sBAAW,sBAAC,4BAAAV,EAAA,sEACPI,EAAQV,GADD,OAC5BiB,EAD4B,OAGlCH,EAAQG,GAH0B,2CAIjC,CAACjB,IAMJ,OAJAkB,qBAAU,WACRH,MACC,CAACf,IAGF,mCACIa,GACA,sBAAKtB,UAAU,cAAf,UACE,oBAAIA,UAAU,qBAAd,SACE,wDACqBsB,EAAYV,QAGnC,oBACEZ,UAAU,oBACV,UAAQ,WAFV,SAIGsB,EAAYM,OAEf,mBAAG5B,UAAU,qBAAb,SACGsB,EAAYO,QAEf,mBAAG7B,UAAU,qBAAb,SACGsB,EAAYQ,QAEf,wBACE7B,KAAK,SACLD,UAAU,sBACVW,QAAS,kBAAMU,EAAU,IAH3B,0BCYKU,EAhDO,WACpB,MAGI5C,mBAAS,GAHb,mBACED,EADF,KAEED,EAFF,KAKA,EAA0BE,mBAAiB,IAA3C,mBAAOH,EAAP,KAAcgD,EAAd,KAEMC,EAAcR,sBAAW,sBAC7B,4BAAAV,EAAA,sEACyBD,IADzB,OACQoB,EADR,OAGEF,EAASE,GAHX,2CAIG,IAGLP,qBAAU,WACRM,MACC,IAMH,OACE,sBAAKjC,UAAU,MAAf,UACE,qBAAKA,UAAU,eAAf,SACE,cAAC,EAAD,CACEhB,MAAOA,EACPC,kBAAmBA,EACnBC,eAAgBA,MAIpB,qBAAKc,UAAU,eAAf,SACE,qBAAKA,UAAU,yBAAf,SACGd,EACC,cAAC,EAAD,CACEuB,OAAQvB,EACRmC,UAnBM,SAACZ,GACjBxB,EAAkBwB,MAoBR,2BC9Cd0B,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.c4d8d302.chunk.js","sourcesContent":["import React, { ChangeEvent, useState } from 'react';\nimport classNames from 'classnames';\n\nimport { Todo } from '../../react-app-env';\n\nimport './TodoList.scss';\n\ntype Props = {\n  todos: Todo[],\n  selectedUserId: number,\n  setSelectedUserId: (id: number) => void,\n};\n\nexport const TodoList: React.FC<Props> = ({\n  todos,\n  setSelectedUserId,\n  selectedUserId,\n}) => {\n  const [query, setQuery] = useState('');\n  const [selectedTodos, setSelectedTodos] = useState('');\n\n  const getVisibleTodos = () => {\n    switch (selectedTodos) {\n      case 'Active':\n        return todos.filter(todo => !todo.completed);\n      case 'Completed':\n        return todos.filter(todo => todo.completed);\n      default:\n        return todos;\n    }\n  };\n\n  const visibleTodos = getVisibleTodos();\n\n  const filteredVisibleTodos = visibleTodos.filter(todo => (\n    todo.title.toLowerCase().includes(query.toLowerCase())\n  ));\n\n  const onChangeInput = (event: ChangeEvent<HTMLInputElement>) => {\n    setQuery(event.target.value);\n  };\n\n  const onChangeSelected = (event: ChangeEvent<HTMLSelectElement>) => {\n    setSelectedTodos(event.target.value);\n  };\n\n  return (\n    <div className=\"TodoList\">\n      <h2>Todos:</h2>\n\n      <div className=\"TodoList__list-container\">\n        <label>\n          <input\n            type=\"text\"\n            value={query}\n            data-cy=\"filterByTitle\"\n            onChange={onChangeInput}\n          />\n        </label>\n        <select\n          className=\"TodoList__select\"\n          value={selectedTodos}\n          onChange={onChangeSelected}\n        >\n          <option value=\"All\">All</option>\n          <option value=\"Active\">Active</option>\n          <option value=\"Completed\">Completed</option>\n        </select>\n        <ul\n          className=\"TodoList__list\"\n          data-cy=\"listOfTodos\"\n        >\n          {\n            filteredVisibleTodos.map(todo => (\n              <>\n                <li\n                  className={`\n                    TodoList__item\n                    TodoList__item--${todo.completed}\n                  `}\n                  key={todo.id}\n                >\n                  <label>\n                    <input\n                      type=\"checkbox\"\n                      defaultChecked={todo.completed}\n                      disabled\n                    />\n                    <p>{todo.title}</p>\n                  </label>\n                  {todo.userId && (\n                    <button\n                      type=\"button\"\n                      data-cy=\"userButton\"\n                      className={classNames(\n                        'button',\n                        'TodoList__user - button',\n                        {\n                          'TodoList__user-button--selected':\n                            selectedUserId === todo.userId,\n                        },\n                      )}\n                      onClick={() => (\n                        setSelectedUserId(todo.userId)\n                      )}\n                    >\n                      {`User ${selectedUserId}`}\n                    </button>\n                  )}\n                </li>\n              </>\n            ))\n          }\n        </ul>\n      </div>\n    </div>\n  );\n};\n","import { Todo, User } from './react-app-env';\n\nconst API_URL = 'https://mate.academy/students-api';\n\nexport const getTodos = async (): Promise<Todo[]> => {\n  const response = await fetch(`${API_URL}/todos`);\n\n  return response.json();\n};\n\nexport const getUser = async (id: number): Promise<User> => {\n  const response = await fetch(`${API_URL}/users/${id}`);\n\n  return response.json();\n};\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { getUser } from '../../api';\nimport './CurrentUser.scss';\nimport { User } from '../../react-app-env';\n\ntype Props = {\n  userId: number,\n  clearUser: (id: number) => void,\n};\n\nexport const CurrentUser: React.FC<Props> = ({ userId, clearUser }) => {\n  const [currentUser, setUser] = useState<User | null>(null);\n\n  const getUsersDetails = useCallback(async () => {\n    const usersDetails = await getUser(userId);\n\n    setUser(usersDetails);\n  }, [userId]);\n\n  useEffect(() => {\n    getUsersDetails();\n  }, [userId]);\n\n  return (\n    <>\n      { currentUser && (\n        <div className=\"CurrentUser\">\n          <h2 className=\"CurrentUser__title\">\n            <span>\n              {`Selected user: ${currentUser.id}`}\n            </span>\n          </h2>\n          <h3\n            className=\"CurrentUser__name\"\n            data-cy=\"userName\"\n          >\n            {currentUser.name}\n          </h3>\n          <p className=\"CurrentUser__email\">\n            {currentUser.email}\n          </p>\n          <p className=\"CurrentUser__phone\">\n            {currentUser.phone}\n          </p>\n          <button\n            type=\"button\"\n            className=\"CurrentUser__button\"\n            onClick={() => clearUser(0)}\n          >\n            Clear\n          </button>\n        </div>\n      )}\n    </>\n  );\n};\n","import React, { useCallback, useEffect, useState } from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { getTodos } from './api';\nimport { Todo } from './react-app-env';\n\nconst App: React.FC = () => {\n  const [\n    selectedUserId,\n    setSelectedUserId,\n  ] = useState(0);\n\n  const [todos, setTodos] = useState<Todo[]>([]);\n\n  const getAllPosts = useCallback(\n    async () => {\n      const gotTodos = await getTodos();\n\n      setTodos(gotTodos);\n    }, [],\n  );\n\n  useEffect(() => {\n    getAllPosts();\n  }, []);\n\n  const clearUser = (userId: number) => {\n    setSelectedUserId(userId);\n  };\n\n  return (\n    <div className=\"App\">\n      <div className=\"App__sidebar\">\n        <TodoList\n          todos={todos}\n          setSelectedUserId={setSelectedUserId}\n          selectedUserId={selectedUserId}\n        />\n      </div>\n\n      <div className=\"App__content\">\n        <div className=\"App__content-container\">\n          {selectedUserId ? (\n            <CurrentUser\n              userId={selectedUserId}\n              clearUser={clearUser}\n            />\n          ) : 'No user selected'}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}